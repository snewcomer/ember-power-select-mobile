@import 'ember-power-select';

//colors - need to make psmobile specific so doesnt clash with others
$mobileHeaderHeight: 60px;
$headerChildHeight: 36px;
$headerChildMargin: ($mobileHeaderHeight - $headerChildHeight) / 2;
$borderRadius: 2px;
$dark: #293541;
$darkGray: #303E4C;
$light: #F5F5F5;
$lightBlue: #6abff0;
$menuColor: $darkGray;
$activeColor: $lightBlue;

@mixin smoothScrolling() {
  -webkit-overflow-scrolling: touch; // DO NOT REMOVE
  overflow: auto;
}

@mixin nav-box-shadow($blurRadius: 10px, $color: $dark) {
  -webkit-box-shadow: 0 0 $blurRadius $color;
  -moz-box-shadow: 0 0 $blurRadius $color;
  box-shadow: 0 0 $blurRadius $color;
}

@mixin headerColors() {
  background: $menuColor;
  color: $light;
}

// navigation component
.ps__head {
  height: $mobileHeaderHeight;
  @include nav-box-shadow;
  @include headerColors;
  button.ps__head--action {
    background: $activeColor;
  }
  .ps__head__title {
    font-size: 1.4rem;
    text-align: center;
    line-height: $mobileHeaderHeight;
    margin: 0;
  }
  .ps__head__btn {
    position: absolute;
    top: 0;
    bottom: 0;
    right: 0;
    height: $headerChildHeight;
    margin: $headerChildMargin;
    color: $light;
    font-size: 14px;
  }
  .mobile-btn {
    border: none;
    background: $dark;
    padding: 0.5em 0.8em;
    border-radius: $borderRadius;
  }
}

.power-select-mobile--open {
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: 100;
  // ps will close and ensures consistent ui while component is open
  background: $light;
  .ps-mobile-nav-wrapper {
    position: absolute;
    top: 0;
    right: 0;
    left: 0;
    z-index: 10000;
  }
  .ps-mobile-dropdown-wrapper {
    position: absolute;
    top: $mobileHeaderHeight;
    right: 0;
    bottom: 0;
    left: 0;
    overflow: auto;
    .ember-basic-dropdown {
      // display: flex;
      // flex-direction: column;
      // height: calc(100vh - #{$mobileHeaderHeight});
    }
    .power-select-mobile__trigger {
      border-width: 0 0 1px;
      border-radius: 0;
      // display: none;
      // flex: none;
      // & + div {
      //   flex: auto;
      //   overflow-y: auto;
      // }
    }
    .power-select-mobile__dropdown {
      border: none;
      // flex: auto;
      position: relative; //override absolute position from ember-basic-dropdown-content
      // display: flex;
      // flex-direction: column;
      .ember-power-select-search {
        // flex: none;
      }
      .ember-power-select-options[role="listbox"] {
        // flex: auto;
        max-height: none;
        @include smoothScrolling();
      }
    }
  }
}
